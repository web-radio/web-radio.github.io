import{_}from"./base-chip-dropdown.vue_vue_type_script_setup_true_lang-b1737985.js";import{d as w,n as T,p as I,q as O,o as d,e as g,g as p,t as k,v as q,w as z,i as s,x as A,y as D,z as j,A as P,_ as U,b as R,u as G,r as u,c as f,B as H,h as v,f as V,l as C,C as S,m as J}from"./index-57ed4893.js";import{_ as K}from"./stations-list.vue_vue_type_script_setup_true_lang-e632c570.js";import"./index-da9b3b58.js";const L={class:"material-symbols-rounded"},Q=w({__name:"base-chip-toggle",props:T({icon:{},text:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(r){const a=I(r,"modelValue"),i=O(a);return(n,l)=>(d(),g("button",{class:z(["chip",{"chip--active":a.value}]),onClick:l[0]||(l[0]=c=>s(i)())},[p("span",L,k(n.icon),1),q(" "+k(n.text),1)],2))}}),W=r=>(j("data-v-93cfb629"),r=r(),P(),r),X={class:"search-field"},Y=["placeholder"],Z=W(()=>p("div",{class:"search-field__icon"},[p("span",{class:"material-symbols-rounded"},"search")],-1)),ee=w({__name:"search-field",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(r){const a=I(r,"modelValue");return(i,n)=>(d(),g("div",X,[A(p("input",{class:"search-field__input","onUpdate:modelValue":n[0]||(n[0]=l=>a.value=l),placeholder:i.$t("nav.search")},null,8,Y),[[D,a.value]]),Z]))}}),ae=U(ee,[["__scopeId","data-v-93cfb629"]]),oe={class:"search-view"},te={key:0,class:"search__header"},le={class:"chips__container"},se=w({__name:"search-view",setup(r){const a=R(),i=G(),n=u(""),l=u(!1),c=u(!0),h=u(null),y=u(void 0),x=u(void 0),$=u(void 0),b=u(!1),m=u({order:"name",reverse:!1}),M=f(()=>h.value?[{text:a.t("all"),value:void 0},...h.value.map(e=>({text:e.name,value:e.name}))]:[]),E=f(()=>[{text:a.t("all"),value:void 0},...i.languages.map(e=>({text:e.name,value:e.name}))]),N=f(()=>[{text:a.t("all"),value:void 0},...i.countries.map(e=>({text:`${J(e.code.toUpperCase())} [${e.code.toUpperCase()}] ${e.name}`,value:e.code}))]),F=f(()=>[{text:a.t("search.sortByName"),value:{order:"name",reverse:!1}},{text:a.t("search.sortByPopularity"),value:{order:"clickcount",reverse:!0}},{text:a.t("search.sortByVotes"),value:{order:"votes",reverse:!0}}]);async function B(){c.value=!0,l.value=!1;try{h.value=await i.apiClient.getCodecs({})}catch{l.value=!0}c.value=!1}return H(async()=>await B()),(e,o)=>(d(),g("div",oe,[!c.value&&!l.value?(d(),g("div",te,[v(s(ae),{modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=t=>n.value=t)},null,8,["modelValue"]),p("div",le,[v(s(_),{label:e.$t("station.country"),modelValue:$.value,"onUpdate:modelValue":o[1]||(o[1]=t=>$.value=t),options:N.value,icon:"language"},null,8,["label","modelValue","options"]),v(s(_),{label:e.$t("station.language"),modelValue:x.value,"onUpdate:modelValue":o[2]||(o[2]=t=>x.value=t),options:E.value,icon:"translate"},null,8,["label","modelValue","options"]),v(s(_),{label:e.$t("station.codec"),modelValue:y.value,"onUpdate:modelValue":o[3]||(o[3]=t=>y.value=t),options:M.value,icon:"album"},null,8,["label","modelValue","options"]),v(s(Q),{text:e.$t("station.verified"),icon:"verified",modelValue:b.value,"onUpdate:modelValue":o[4]||(o[4]=t=>b.value=t)},null,8,["text","modelValue"]),v(s(_),{required:"",modelValue:m.value,"onUpdate:modelValue":o[5]||(o[5]=t=>m.value=t),options:F.value,icon:"swap_vert"},null,8,["modelValue","options"])])])):V("",!0),!c.value&&!l.value?(d(),C(s(K),{key:1,showMoreButton:!0,noStationsIcon:"search",noStationsText:e.$t("noResults"),style:{flex:"1"},params:{limit:48,order:m.value.order,reverse:m.value.reverse,name:n.value,languageName:x.value,codec:y.value,countryCode:$.value,languageExact:!0,countryExact:!0,hasExtendedInfo:b.value?!0:void 0}},null,8,["noStationsText","params"])):V("",!0),c.value?(d(),C(s(S),{key:2,type:"loading"})):V("",!0),l.value?(d(),C(s(S),{key:3,type:"info",icon:"error",text:e.$t("error"),buttonIcon:"refresh",onButtonClick:B},null,8,["text"])):V("",!0)]))}});const de=U(se,[["__scopeId","data-v-77c503f1"]]);export{de as default};
