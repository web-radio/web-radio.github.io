import{d as C,n as x,b as A,p as B,c as S,o as s,l as h,D as w,g as t,t as l,e as d,f as m,k as V,F as b,i as o,u as P,a as O,r as f,s as E,B as F,h as y,j as M,v as U,m as D,C as $,z as N,A as R,_ as H}from"./index-57ed4893.js";import{V as L}from"./index-da9b3b58.js";const j={class:"dropdown__field"},T={class:"dropdown__field-label"},z={key:0,class:"dropdown__field-selected-option"},G={class:"dropdown__options"},Y=["onClick"],k=C({__name:"base-dropdown",props:x({label:{},showOptionAll:{type:Boolean},options:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(u){const c=A(),_=u,n=B(u,"modelValue");function p(a){n.value=a}const g=S(()=>n.value==="all"?{text:c.t("all"),value:"all"}:_.options.find(a=>a.value===n.value));return(a,v)=>(s(),h(o(L),{overlay:!1,style:{width:"100%"}},{trigger:w(()=>[t("div",j,[t("div",T,l(_.label),1),g.value?(s(),d("div",z,l(g.value.text),1)):m("",!0)])]),body:w(()=>[t("div",G,[_.showOptionAll?(s(),d("div",{key:0,class:"dropdown__option",onClick:v[0]||(v[0]=e=>p("all"))},l(a.$t("all")),1)):m("",!0),(s(!0),d(b,null,V(a.options,(e,i)=>(s(),d("div",{class:"dropdown__option",key:i,onClick:r=>p(e.value)},l(e.text),9,Y))),128))])]),_:1}))}}),q=[{text:"English",value:"en"},{text:"Polski",value:"pl"}],J=[{name:"Radio Browser API",homepage:"https://api.radio-browser.info"},{name:"Radiolise API",homepage:"https://gitlab.com/radiolise/radiolise.gitlab.io"},{name:"Free IP API",homepage:"https://freeipapi.com"}],K=u=>(N("data-v-a3f74ea5"),u=u(),R(),u),Q={key:0,class:"settings"},W={class:"headline"},X={class:"settings__form"},Z={class:"about"},ee={class:"about__title"},te={class:"about__text"},oe=["href"],se=K(()=>t("a",{href:"https://github.com/web-radio/web-radio.github.io"},"GitHub",-1)),ae={style:{"text-align":"center"}},le=C({__name:"settings-view",setup(u){const c=P(),_=O(),n=f(!1),p=f(!0),g=f(null),{exploreViewCountry:a}=E(c);async function v(){p.value=!0,n.value=!1;try{g.value=(await c.apiClient.getCountries({})).map(e=>({text:`${D(e.code.toUpperCase())} [${e.code.toUpperCase()}] ${e.name}`,value:e.code}))}catch{n.value=!0}p.value=!1}return F(async()=>await v()),(e,i)=>(s(),d(b,null,[!p.value&&!n.value?(s(),d("div",Q,[t("p",W,l(e.$t("nav.settings")),1),t("section",X,[y(o(k),{modelValue:o(a),"onUpdate:modelValue":i[0]||(i[0]=r=>M(a)?a.value=r:null),showOptionAll:!0,label:e.$t("settings.countryExploreView"),options:g.value},null,8,["modelValue","label","options"]),y(o(k),{modelValue:o(c).language,"onUpdate:modelValue":i[1]||(i[1]=r=>o(c).language=r),showOptionAll:!1,label:e.$t("settings.applicationLanguage"),options:o(q)},null,8,["modelValue","label","options"]),t("button",{class:"block-button",onClick:i[2]||(i[2]=r=>o(_).clearHistory())},l(e.$t("settings.clearHistory")),1),t("div",Z,[t("div",ee,l(e.$t("settings.about")),1),t("div",te,[U(l(e.$t("settings.apis"))+": ",1),t("ul",null,[(s(!0),d(b,null,V(o(J),(r,I)=>(s(),d("li",{key:I},[t("a",{href:r.homepage,target:"_blank"},l(r.name),9,oe)]))),128))]),se,t("div",ae," 2023 - "+l(new Date().getFullYear()),1)])])])])):m("",!0),p.value?(s(),h(o($),{key:1,type:"loading"})):m("",!0),n.value?(s(),h(o($),{key:2,type:"info",icon:"error",text:e.$t("error"),buttonIcon:"refresh",onButtonClick:v},null,8,["text"])):m("",!0)],64))}});const re=H(le,[["__scopeId","data-v-a3f74ea5"]]);export{re as default};
